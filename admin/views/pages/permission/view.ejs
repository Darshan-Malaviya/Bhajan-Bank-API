<%- include('../../layouts/header.ejs') %>
<style>

</style>
<%- include('../../layouts/sidebar.ejs') %>

<div class="col-md-6">
  <div class="card">
    <div class="card-body">

      <% if (operation != 'view') { %>
      <form action="/admin/<%= table %>/<%= operation %>/<% if(locals.id){ %><%= id %><% } %>" method="POST" id="mainform" enctype="application/x-www-form-urlencoded">
        <input type="hidden" name="csrfToken" value="<% if(locals.csrfToken){ %><%= csrfToken %><% } %>" class="form-control">
        <% } %>
        
          <% if(locals.id){ %><div class="form-group"><span style="font-weight: bold;"><%= id %></span></div><% } %>

        <div id="div_id_name" class="form-group">
          <label for="id_name" class="requiredField">
            Name<span class="asteriskField">*</span>
          </label>
          <div class="">
            <input type="text" name="name" maxlength="50" class="textinput textInput form-control ui-autocomplete-input" required="" id="id_name" value="<% if(locals.row){ %><%= row.name %><% } %>" autocomplete="off" <% if (operation == 'view') { %>disabled<% } %> />
          </div>
        </div>
        <div id="div_id_identifier" class="form-group">
          <label for="id_identifier" class="">
            Identifier
          </label>
          <div class="">
            <input type="text" name="identifier" maxlength="20" class="textinput textInput form-control" value="<% if(locals.row){ %><%= row.identifier %><% } %>" id="id_identifier" <% if (operation == 'view') { %>disabled<% } %> />
            <small id="hint_id_identifier" class="form-text text-muted">Enter name of the
              identifier.</small>
          </div>
        </div>
        <div id="div_id_description" class="form-group">
          <label for="id_description" class="">
            Description<span class="asteriskField">*</span>
          </label>
          <div class=""> <textarea name="description" cols="40" rows="10" maxlength="500" class="textarea form-control" id="id_description" style="height: 97px;" required spellcheck="false" <% if (operation == 'view') { %>disabled<% } %>><% if(locals.row){ %><%= row.description %><% } %></textarea>
          </div>
        </div>
        <div id="div_id_contentType" class="form-group"> <label for="id_contentType" class=" requiredField">ContentType<span class="asteriskField">*</span> </label>
          <div class=""> <select name="contentType" class="select form-control selectpicker" data-live-search="true" id="id_contentType" <% if (operation == 'view') { %>disabled<% } %>>
            <% if (operation == 'view') { %>
              <option value="<%= row.contentType %>" selected><%= row.contentType.name %></option>
                <% } else { %>
                    <option selected="" disabled>Select ContentType</option>
                    <% contentTypes.forEach(element => { %>
                    <option value="<%= element._id %>"><%= element.identifier %></option>
                    <% }) %>
                  <% } %>
            </select> </div>
            <% if (operation == 'update') { %>
             <small id="hint_id_image" class="form-text text-muted">current : <%= row.contentType.identifier %>
            <% } %>
        </div>
        <div id="div_id_active" class="form-check form-group">
          <div class=""> <input type="checkbox" name="isActive" class="checkboxinput form-check-input" id="id_active" <% if(locals.row){ %> <% if(row.isActive) { %> checked <%}%><% } else{ %>checked <% } %> <% if (operation == 'view') { %>disabled<% } %>>
          </div><label for="id_active" class="form-check-label">
            is Active
          </label>
        </div>
        <% if (operation != 'view') { %>
        <button type="submit" class="btn btn-success">Save</button>
      </form>
      <% } %>
    </div>
  </div>
</div>
<%- include('../../layouts/footer.ejs') %>
<script></script>
</body>

</html>